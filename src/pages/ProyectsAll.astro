---
import Layout from "../layouts/Layout.astro";
import Loading from "@/components/Loading.astro";
import Cards from "@/components/Cards.astro";
import { obtenerProyectos } from "../service/api";
import type { TypeProyects } from "../types/data";

const getAllProyects: TypeProyects[] = await obtenerProyectos();
---

<Layout title="Post Projecs">
  <section class="mx-auto max-w-screen-lg px-3 py-12">
    <div class="text-center">
      <h1
        class="text-4xl font-bold mb-8 text-transparent bg-clip-text bg-gradient-to-r from-sky-500 to-cyan-400"
      >
        Projects Completed
      </h1>
    </div>
    <article class="grid grid-cols-1 gap-6 md:grid-cols-3">
      {getAllProyects.length === 0 ? <Loading /> : null}
      {getAllProyects.map((proyect) => <Cards proyect={proyect} />)}
    </article>
  </section>
</Layout>
